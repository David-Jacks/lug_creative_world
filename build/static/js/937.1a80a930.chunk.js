"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[937],{6937:(e,s,a)=>{a.r(s),a.d(s,{default:()=>v});a(5884),a(7531);var c=a(9153),l=a(5369),i=a(1434),t=a(7805),n=a(8161),o=a(3216),r=a(5475),d=a(5043),m=a(3632),h=a(165),x=a(9054),j=a(8860),u=a(2127),p=a(6178),_=a.n(p),N=a(579);const f=e=>{let{comment:s,postid:a}=e;const[l,i]=(0,d.useState)(!1);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{id:"comment_box",children:[(0,N.jsxs)("div",{className:"comment_box_head",children:[(0,N.jsxs)("div",{className:"comment_profile_contain",children:[s.user.profilePicture?(0,N.jsx)("img",{src:"data:image/png;base64,".concat(s.user.profilePicture),alt:""}):(0,N.jsx)("img",{src:c,alt:"profile"}),(0,N.jsxs)("div",{className:"profile_data",children:[(0,N.jsx)("span",{children:s.user.username}),(0,N.jsx)("span",{children:_()(s.createdAt).fromNow()})]})]}),(0,N.jsxs)("div",{className:"drop_down_comment",children:[(0,N.jsx)(u.Ym0,{className:"icon",onClick:()=>{i(!l)}}),(0,N.jsxs)("ul",{className:"drop ".concat(l?"showdrop":""),children:[(0,N.jsx)("li",{children:(0,N.jsx)("span",{children:"Delete"})}),(0,N.jsx)("li",{children:"Edit"})]})]})]}),(0,N.jsx)("div",{className:"comment_box_message",children:(0,N.jsx)("p",{children:s.commentText})}),(0,N.jsx)("div",{className:"comment_box_reactions",children:(0,N.jsx)("div",{className:"comment_icons",children:(0,N.jsx)(t.$qj,{className:"icon"})})})]})})},b=e=>{const s=localStorage.getItem("user"),a=JSON.parse(s),[l,i]=(0,d.useState)(""),[t,n]=(0,d.useState)([]),[o,r]=(0,d.useState)(!1),[m,h]=(0,d.useState)({});(0,d.useEffect)((()=>{!async function(){const e=await(0,x.Sk)(a._id);h(e)}(),async function(){const s=await(0,x.vr)(e.articleid);e.setCommentsCount(s.length),n(s)}()}),[l]),console.log(t.length);const u={commentText:l};return(0,N.jsx)("div",{className:"comment_modal",children:(0,N.jsxs)("div",{className:"modal_content",children:[(0,N.jsxs)("div",{className:"comment_top",children:[(0,N.jsxs)("h4",{children:[m.username," is commenting"]}),(0,N.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,N.jsx)(j.r8o,{})})]}),!o&&(0,N.jsx)("input",{type:"text",onClick:function(){r(!0)},name:"",id:"inputclick",placeholder:"pin down your opinions"}),(0,N.jsxs)("form",{className:"comment_form ".concat(o?"active":""),onSubmit:async s=>{if(s.preventDefault(),l){r(!1);await(0,x.Gy)(e.articleid,u)}},children:[(0,N.jsxs)("div",{className:"comment_owner_profile",children:[m.profilePicture?(0,N.jsx)("img",{src:"data:image/png;base64,".concat(m.profilePicture),alt:"profile"}):(0,N.jsx)("img",{src:c,alt:"default_profile"}),(0,N.jsx)("span",{children:m.username})]}),(0,N.jsx)("textarea",{className:"comment_area",value:l,onChange:e=>{i(e.target.value)},required:!0,placeholder:"pin down your opinions"}),(0,N.jsxs)("div",{className:"comment_bottom_container",children:[(0,N.jsx)("span",{onClick:()=>{r(!1)},children:"Cancel"}),(0,N.jsx)("button",{type:"submit",className:"comment_button",children:"comment"})]})]}),t&&t.map((s=>(0,N.jsx)(f,{comment:s,postid:e.articleid},s._id)))]})})},v=()=>{const e=(0,o.zy)().pathname.split("/")[2],[s,a]=(0,d.useState)({}),[j,u]=(0,d.useState)(!1),[p,f]=(0,d.useState)(0),[v,g]=(0,d.useState)(0),[w,k]=(0,d.useState)(!1),[C,S]=(0,d.useState)("Not Flagged");(0,d.useEffect)((()=>{y()}),[e]);const y=async()=>{try{const s=await(0,x.Ls)(e);a(s),console.log(s)}catch(s){throw s}};async function P(){w?(f(p-1),k(!w)):(f(p+1),k(!w));const s={likes:p,liked:w},a=await(0,x.AT)(e,s);k(a.liked),f(a.likes)}return 0===Object.keys(s).length?(0,N.jsx)(m.A,{}):(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{id:"article_view_wrapper",children:[(0,N.jsx)(n.A,{}),(0,N.jsxs)("div",{className:"article_wrapper_container",children:[(0,N.jsxs)("div",{className:"article_view_head",children:[(0,N.jsx)("h2",{children:s.title}),(0,N.jsxs)("div",{className:"div_main",children:[(0,N.jsx)(r.N_,{to:"/profile/".concat(s.authorId),children:s.authorProfile?(0,N.jsx)("img",{src:s.authorProfile,alt:"author_profile"}):(0,N.jsx)("img",{src:c,alt:"default_profile"})}),(0,N.jsxs)("div",{className:"div_p",children:[(0,N.jsx)("div",{className:"div1",children:(0,N.jsx)(r.N_,{to:"/profile/".concat(s.authorId),className:"to_profile",children:(0,N.jsx)("span",{children:s.author})})}),(0,N.jsxs)("div",{className:"div2",children:[(0,N.jsx)("span",{children:_()(s.created_at.toDate()).fromNow()}),(0,N.jsxs)("span",{children:[s.timeTakenToReadPost," min read"]})]})]})]}),(0,N.jsx)("ul",{children:(0,N.jsxs)("li",{children:[(0,N.jsx)("span",{children:C}),(0,N.jsxs)("span",{children:[v," Comments"]}),(0,N.jsxs)("span",{children:[p," Likes"]})]})})]}),j&&(0,N.jsx)(b,{onClose:()=>u(!1),article:s,articleid:e,setCommentsCount:g}),(0,N.jsx)("div",{className:"article_view_main ql-editor ",children:(0,N.jsx)(h.A,{body:s.body})}),(0,N.jsx)("div",{className:"article_controls",children:(0,N.jsxs)("ul",{children:[w?(0,N.jsx)("li",{children:(0,N.jsx)(i.F8A,{onClick:P,className:"article_icons hvr-float-shadow"})}):(0,N.jsx)("li",{children:(0,N.jsx)(t.$qj,{onClick:P,className:"article_icons hvr-float-shadow"})}),(0,N.jsxs)("li",{children:[(0,N.jsx)(l.j1Q,{onClick:()=>{u(!0)},className:"article_icons hvr-float-shadow"})," "]}),(0,N.jsx)(l.ltS,{onClick:function(){(0,x.if)(e)},className:"article_icons hvr-float-shadow"})]})})]})]})})}},165:(e,s,a)=>{a.d(s,{A:()=>t});var c=a(6213),l=a.n(c),i=(a(5884),a(8560),a(579));const t=function(e){let{body:s}=e;const a=l().sanitize(s);return(0,i.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:a}})}},8161:(e,s,a)=>{a.d(s,{A:()=>j});var c=a(5043),l=a(5927),i=a(9153),t=a(221),n=a(4966),o=a(5369),r=a(5475),d=a(9054),m=a(8298),h=a(8059),x=a(579);const j=(0,c.memo)((e=>{const[s,a]=(0,c.useState)({}),[j,u]=(0,c.useState)(!1),p=(0,m.wA)(),_=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),N=localStorage.getItem("user").replace(/"/g,"");(0,c.useEffect)((()=>{(async()=>{const e=await(0,d.Sk)(N);a(e)})()}),[]);const f=()=>{u(!j),p((0,h.V_)(j))};return(0,x.jsxs)("section",{className:_,children:[(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)("div",{className:"logo-1",children:[(0,x.jsx)(r.N_,{to:"/dashboard",children:(0,x.jsx)("img",{className:"img1",src:l,alt:"lancaster-logo"})}),e.showText?(0,x.jsx)("span",{className:"logo-text",children:e.logoText}):(0,x.jsx)(r.N_,{to:"/dashboard",className:"home_link",children:(0,x.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,x.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,x.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,x.jsx)("li",{children:(0,x.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,x.jsx)("li",{children:(0,x.jsxs)(r.N_,{to:"/writepage",className:"write",children:[(0,x.jsx)(t.cg8,{className:"write_icon"}),(0,x.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"bg__change",children:[(0,x.jsx)("input",{type:"checkbox",id:"checkbox",className:"checkbox",onClick:f}),(0,x.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,x.jsx)(o.V6H,{className:"fa-moon"}),(0,x.jsx)(o.wQq,{className:"fa-sun"}),(0,x.jsx)("span",{className:"check__ball",onClick:f})]})]})}),e.profile?(0,x.jsx)("li",{children:(0,x.jsx)(r.N_,{to:"/",children:(0,x.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,x.jsx)("li",{children:(0,x.jsx)(r.N_,{to:"/profile/".concat(N),children:s.profilePicture?(0,x.jsx)("img",{className:"img4",src:s.profilePicture,alt:""}):(0,x.jsx)("img",{className:"img4",src:i,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,x.jsx)(n.fnX,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,x.jsx)(n.Wj,{className:"topbar_panel",onClick:e.sideBarHandle})]})}))},7531:()=>{},9153:(e,s,a)=>{e.exports=a.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=937.1a80a930.chunk.js.map