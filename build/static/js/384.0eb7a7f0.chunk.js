"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[384],{9384:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var t=a(5043),l=(a(7531),a(5884),a(8161)),o=a(2823),n=a.n(o),i=a(8298),r=a(8),c=a(165),d=a(9054),h=a(8860),u=a(3632),m=a(579);const x=e=>{const[s,a]=(0,t.useState)(null),[l,o]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),{title:r,body:c,author:x,authorProfile:p,description:j,timeTakenToReadPost:b,categories:g,authorId:v}=e.transfer1,f={title:r,body:c,description:j,author:x,authorProfile:p,categories:g,authorId:v,timeTakenToReadPost:b,descPhoto:s,comments:{},likes:{}};return l?(0,m.jsxs)("div",{className:"publish-modal",children:[(0,m.jsx)(u.A,{}),";"]}):(0,m.jsx)("div",{className:"publish-modal",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsxs)("div",{className:"publish-top",children:[(0,m.jsxs)("h4",{children:[e.author," is publishing"]}),(0,m.jsx)("button",{className:"cancel-button",onClick:e.onClose,children:(0,m.jsx)(h.r8o,{})})]}),(0,m.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),s){if(r&&c&&j){if(o(!0),e.transfer2.isUpdate){await(0,d.iZ)(e.transfer2.id,f)&&(alert("updated successfully"),e.onClose(),o(!1))}else{await(0,d.vn)(f)?(alert("posted successfully"),e.onClose(),o(!1)):(alert("error posting"),e.onClose(),o(!1))}e.onClose(),o(!1)}}else alert("Please you need to Illustrate with an image... Add Photo!!!")},children:[(0,m.jsx)("label",{children:(0,m.jsx)("textarea",{className:"area",value:j,onChange:e.handleDescChange,required:!0,placeholder:"Make your post a magnet for readers! Just drop in a quick, captivating description (up to 50 Words) to draw them into your world effortlessly."})}),(0,m.jsx)("label",{children:(0,m.jsxs)("select",{className:"box",value:g,onChange:e.handleCatChange,required:!0,children:[(0,m.jsx)("option",{value:"",children:"Pick Category"}),(0,m.jsx)("option",{value:"Student Business",children:"Student Business"}),(0,m.jsx)("option",{value:"Case Study",children:"Case Study"}),(0,m.jsx)("option",{value:"Lifestyle",children:"Lifestyle"}),(0,m.jsx)("option",{value:"Health and wellness",children:"Health and wellness"}),(0,m.jsx)("option",{value:"Research Proposal",children:"Research Proposal"}),(0,m.jsx)("option",{value:"Comedy",children:"Comedy"}),(0,m.jsx)("option",{value:"Love and Relationships",children:"Love and Relationships"}),(0,m.jsx)("option",{value:"Creative Writing",children:"Creative Writing"}),(0,m.jsx)("option",{value:"Science and Technology",children:"Science and Technology"}),(0,m.jsx)("option",{value:"Announcements",children:"Announcements"}),(0,m.jsx)("option",{value:"Academics",children:"Academics"}),(0,m.jsx)("option",{value:"Sports and Entertainment",children:"Sports and Entertainment"})]})}),(0,m.jsx)("label",{children:(0,m.jsxs)("select",{className:"box",value:b,onChange:e.handleTimeTaken,required:!0,children:[(0,m.jsx)("option",{value:"",children:"Specify Reading Time"}),(0,m.jsx)("option",{value:"4",children:"Less Than 4 min"}),(0,m.jsx)("option",{value:"7",children:"Less Than 7 min"}),(0,m.jsx)("option",{value:"10",children:"Less Than 10 min"}),(0,m.jsx)("option",{value:"2",children:"More Than 2 min"}),(0,m.jsx)("option",{value:"5",children:"More Than 5 min"}),(0,m.jsx)("option",{value:"8",children:"More Than 8 min"}),(0,m.jsx)("option",{value:"12",children:"More Than 10 min"})]})}),(0,m.jsxs)("div",{className:"articlePhotoHandle",children:[(0,m.jsxs)("label",{className:"file-input-label",children:[(0,m.jsx)("h4",{children:n?"Update Photo":"Add Photo"}),(0,m.jsx)("input",{type:"file",name:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];a(s),i(!0)}})]}),s&&(0,m.jsx)("img",{src:URL.createObjectURL(s),alt:"Selected",className:"articlePhotoPreview"})]}),(0,m.jsx)("div",{className:"proceed-button-container",children:(0,m.jsx)("button",{type:"submit",className:"proceed-button",children:"Proceed"})})]})]})})},p=()=>{const e=(0,i.d4)((e=>e.article.value)),s=(0,t.useRef)(null),a=(0,i.wA)(),[o,h]=(0,t.useState)(e.title),[u,j]=(0,t.useState)(e.description),[b,g]=(0,t.useState)(e.body),[v,f]=(0,t.useState)(e.timeTakenToReadPost),[N,k]=(0,t.useState)(""),[w,C]=(0,t.useState)(!0),[y,S]=(0,t.useState)({}),[T,_]=(0,t.useState)(!1),[P,A]=(0,t.useState)(1),B=localStorage.getItem("user").replace(/"/g,"");(0,t.useEffect)((()=>{(async()=>{console.log(B);const e=await(0,d.Sk)(B);S(e)})()}),[]);const R=y.username,L=y.profilePicture,H={title:o,body:b,author:R,authorProfile:L,description:u,timeTakenToReadPost:v,categories:N,authorId:B},q=(0,t.useCallback)((()=>{o&&b?_(!0):alert("Please check!! The Title or Body is Empty")}),[o,b]);return(0,m.jsxs)("section",{className:"writepage",children:[(0,m.jsx)(l.A,{publishClick:q,showButton:!0,showText:!0,logoText:"Drafted by ".concat(R)}),(0,m.jsxs)("div",{className:"writediv",children:[(0,m.jsxs)("div",{id:"toolbar",children:[w&&(0,m.jsx)("button",{className:"button-click ",onClick:()=>{s.current.editor.history.redo()},children:"redo"}),w&&(0,m.jsx)("button",{className:"button-click ",onClick:()=>{s.current.editor.history.undo()},children:"undo"}),(0,m.jsxs)("button",{className:"button-click",onClick:()=>{a((0,r.VH)({body:b,title:o,isUpdate:e.isUpdate})),C(!w)},children:[" ",w?"Preview":"back"]})]}),w?(0,m.jsxs)("div",{className:"Editor_container",children:[(0,m.jsx)("div",{className:"article-write-header",children:(0,m.jsx)("textarea",{name:"header",id:"header",placeholder:"Write your tittle",value:o,rows:P,onChange:e=>{const s=e.target.rows;e.target.rows=1;const a=Math.floor(e.target.scrollHeight/40);a===s&&(e.target.rows=a),A(a<10?a:10),h(e.target.value)}})}),(0,m.jsx)(n(),{theme:"snow",placeholder:"Write your best...",modules:p.modules,onChange:g,value:b,formats:p.formats,ref:s})]}):(0,m.jsxs)("div",{className:"preview",children:[(0,m.jsx)("div",{className:"preview_head",children:(0,m.jsx)("h1",{children:o})}),(0,m.jsx)(c.A,{body:b})]}),T&&(0,m.jsx)(x,{handleCatChange:e=>{k(e.target.value)},handleDescChange:e=>{j(e.target.value)},handleTimeTaken:e=>{f(e.target.value)},onClose:()=>_(!1),transfer1:H,author:R,transfer2:e})]})]})};p.modules={toolbar:[[{header:[1,2,!1]}],[{font:[]}],["bold","italic","underline","blockquote"],[{list:"ordered"},{list:"bullet"},{align:[]},{indent:"-1"},{indent:"+1"}],["link","image"],[{color:[]},{background:[]}],["clean"]],history:{delay:2e3,maxStack:500,userOnly:!0}},p.formats=["header","bold","italic","underline","blockquote","list","bullet","indent","link","image","font","align","color","background","undo","redo"];const j=p},165:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(6213),l=a.n(t),o=(a(5884),a(8560),a(579));const n=function(e){let{body:s}=e;const a=l().sanitize(s);return(0,o.jsx)("div",{className:"article_view_para ql-editor",dangerouslySetInnerHTML:{__html:a}})}},8161:(e,s,a)=>{a.d(s,{A:()=>x});var t=a(5043),l=a(5927),o=a(9153),n=a(221),i=a(4966),r=a(5369),c=a(5475),d=a(9054),h=a(8298),u=a(8059),m=a(579);const x=(0,t.memo)((e=>{const[s,a]=(0,t.useState)({}),[x,p]=(0,t.useState)(!1),j=(0,h.wA)(),b=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),g=localStorage.getItem("user").replace(/"/g,"");(0,t.useEffect)((()=>{(async()=>{const e=await(0,d.Sk)(g);a(e)})()}),[]);const v=()=>{p(!x),j((0,u.V_)(x))};return(0,m.jsxs)("section",{className:b,children:[(0,m.jsxs)("div",{className:"container",children:[(0,m.jsxs)("div",{className:"logo-1",children:[(0,m.jsx)(c.N_,{to:"/dashboard",children:(0,m.jsx)("img",{className:"img1",src:l,alt:"lancaster-logo"})}),e.showText?(0,m.jsx)("span",{className:"logo-text",children:e.logoText}):(0,m.jsx)(c.N_,{to:"/dashboard",className:"home_link",children:(0,m.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,m.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,m.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,m.jsx)("li",{children:(0,m.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,m.jsx)("li",{children:(0,m.jsxs)(c.N_,{to:"/writepage",className:"write",children:[(0,m.jsx)(n.cg8,{className:"write_icon"}),(0,m.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,m.jsx)("li",{children:(0,m.jsxs)("div",{className:"bg__change",children:[(0,m.jsx)("input",{type:"checkbox",id:"checkbox",className:"checkbox",onClick:v}),(0,m.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,m.jsx)(r.V6H,{className:"fa-moon"}),(0,m.jsx)(r.wQq,{className:"fa-sun"}),(0,m.jsx)("span",{className:"check__ball",onClick:v})]})]})}),e.profile?(0,m.jsx)("li",{children:(0,m.jsx)(c.N_,{to:"/",children:(0,m.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,m.jsx)("li",{children:(0,m.jsx)(c.N_,{to:"/profile/".concat(g),children:s.profilePicture?(0,m.jsx)("img",{className:"img4",src:s.profilePicture,alt:""}):(0,m.jsx)("img",{className:"img4",src:o,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,m.jsx)(i.fnX,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,m.jsx)(i.Wj,{className:"topbar_panel",onClick:e.sideBarHandle})]})}))},7531:()=>{},9153:(e,s,a)=>{e.exports=a.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=384.0eb7a7f0.chunk.js.map