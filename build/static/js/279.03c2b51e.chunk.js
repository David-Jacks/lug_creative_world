"use strict";(self.webpackChunklug_creative_world=self.webpackChunklug_creative_world||[]).push([[279],{2335:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var l=a(5043),i=a(7801),t=a(9153),c=a(8161),r=a(7368),o=a(9054),n=a(8298),d=a(7594),h=a(3216),m=a(8860),x=a(579);const p=e=>{const[s,a]=(0,l.useState)(!1),[i,t]=(0,l.useState)(null),[c,r]=(0,l.useState)(""),[n,d]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[j,u]=(0,l.useState)(""),_=e=>{const s=e.target.files[0];t(s),a(!0)};console.log(e.userDataQuery.id);const f=async s=>{if(s.preventDefault(),i){const s={profilePicture:await(0,o.V6)(i,i.name,"users")};console.log(s),await(0,o.oS)(e.userDataQuery.id,s)}e.onClose(),window.location.reload()};return e.isprofilepic?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"edit_profile_modal",children:(0,x.jsxs)("div",{className:"modal_content_editprofile",children:[(0,x.jsxs)("div",{className:"edit_profile_top",children:[(0,x.jsxs)("h4",{children:[e.userDataQuery.username," is editing his profile"]}),(0,x.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,x.jsx)(m.r8o,{})})]}),(0,x.jsxs)("form",{className:"edit_profile_form profile_pic_form",onSubmit:f,children:[(0,x.jsxs)("label",{htmlFor:"profileimg",children:[(0,x.jsx)("h4",{children:s?"Update Photo":"Add Photo"}),(0,x.jsx)("input",{id:"profileimg",type:"file",name:"file",accept:"image/*",onChange:_})]}),i&&(0,x.jsx)("img",{src:URL.createObjectURL(i),alt:"Selected",className:"profile_edit_img"}),(0,x.jsx)("button",{type:"submit",children:"Update"})]})]})})}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"edit_profile_modal",children:(0,x.jsxs)("div",{className:"modal_content_editprofile",children:[(0,x.jsxs)("div",{className:"edit_profile_top",children:[(0,x.jsxs)("h4",{children:[e.userDataQuery.username," is editing his profile"]}),(0,x.jsx)("button",{className:"comment_cancel_button",onClick:e.onClose,children:(0,x.jsx)(m.r8o,{})})]}),(0,x.jsxs)("form",{className:"edit_profile_form",onSubmit:async s=>{s.preventDefault(),e.onClose()},children:[(0,x.jsx)("input",{type:"text",name:"username",value:e.userDataQuery.username,onChange:e=>{r(e.target.value)},placeholder:"Username"}),(0,x.jsx)("input",{type:"text",placeholder:"Firstname"}),(0,x.jsx)("input",{type:"text",placeholder:"Lastname"}),(0,x.jsx)("input",{type:"email",placeholder:"Email"}),(0,x.jsxs)("select",{name:"year_select",id:"",children:[(0,x.jsx)("option",{value:e.userDataQuery.year,children:"select level"}),(0,x.jsx)("option",{value:"foundation",children:"foundation"}),(0,x.jsx)("option",{value:"year 1",children:"year 1"}),(0,x.jsx)("option",{value:"year 2",children:"year 2"}),(0,x.jsx)("option",{value:"year 3",children:"year 3 "})]}),(0,x.jsxs)("select",{name:"program_select",id:"",children:[(0,x.jsx)("option",{value:e.userDataQuery.program,children:"select program"}),(0,x.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,x.jsx)("option",{value:"Law",children:"Law"}),(0,x.jsx)("option",{value:"Business Management",children:"Business Management"}),(0,x.jsx)("option",{value:"Accounting",children:"Accounting"}),(0,x.jsx)("option",{value:"International Relations",children:"International Relations"})]}),(0,x.jsx)("button",{type:"submit",children:"Update"})]})]})})})};var j=a(3632);const u=(0,l.memo)((()=>{const e=localStorage.getItem("user").replace(/"/g,""),s=(0,h.zy)().pathname.split("/")[2],a=e===s,[m,u]=(0,l.useState)(!1),[_,f]=(0,l.useState)(!1),[g,N]=(0,l.useState)([]),[v,b]=(0,l.useState)(null),k=(0,n.wA)(),[w,S]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(async()=>{const s=await(0,o.Sk)(e);N({...s,id:e})})()}),[]);const y=[],C=(0,l.useCallback)((()=>{k((0,d.ri)()),(0,o.fQ)()}),[k]),A=()=>{u(!0),f(!1)};return g.length<0?(0,x.jsx)(j.A,{}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{id:"profile_page",children:[(0,x.jsx)(c.A,{logoutClick:C,profile:!0,profilepic:g.profilePicture}),(0,x.jsxs)("div",{className:"profile_first_half",children:[(0,x.jsxs)("div",{className:"profile_img",children:[g.profilePicture?(0,x.jsx)("img",{src:g.profilePicture,alt:"profile"}):(0,x.jsx)("img",{src:t,alt:"profile"}),a&&(0,x.jsx)(r.gCK,{className:"profile_img_update",onClick:()=>{u(!0),f(!0)}})]}),(0,x.jsx)("h2",{children:g.username}),(0,x.jsxs)("ul",{children:[(0,x.jsxs)("li",{children:[y.length," contributed articles"]}),a&&(0,x.jsx)("li",{className:"profile_edit_btn",onClick:A,children:(0,x.jsx)("span",{onClick:A,children:"Edit profile"})})]})]}),m&&(0,x.jsx)(p,{isOpen:m,onClose:()=>u(!1),userDataQuery:g,isprofilepic:_}),(0,x.jsxs)("div",{className:"profile_second_half",children:[(0,x.jsxs)("div",{className:"profile_toggle_row",children:[(0,x.jsx)("button",{className:w?"not_clicked":"clicked",onClick:()=>S(!1),children:"ARTICLES"}),a&&(0,x.jsx)("button",{className:w?"clicked":"not_clicked",onClick:()=>S(!0),children:"SAVED"})]}),w?(0,x.jsx)("div",{className:"profile_art_contain",children:g.savedArticles&&g.savedArticles.length>0?g.savedArticles.map((e=>(0,x.jsx)(i.A,{articles:e},e.id))):(0,x.jsx)("p",{className:"profile_no_data",children:"You have no saved posts"})}):(0,x.jsx)("div",{className:"profile_art_contain",children:y&&y.length>0?y.map((e=>(0,x.jsx)(i.A,{articles:e},e.id))):(0,x.jsx)("p",{className:"profile_no_data",children:"No articles contributed yet.. visit write to start writting"})})]})]})})}))},7801:(e,s,a)=>{a.d(s,{A:()=>f});var l=a(5369),i=a(7805),t=a(7149),c=a(1434),r=a(3216),o=a(5475),n=a(5043),d=a(9153);const h=a.p+"static/media/articlepic.0678e7a45e58ee833e93.jpg";var m=a(9054),x=a(8298),p=a(8),j=a(6178),u=a.n(j),_=a(579);const f=(0,n.memo)((e=>{let{articles:s}=e;const a=(0,r.Zp)(),j=(0,x.wA)(),f=localStorage.getItem("user"),g=JSON.parse(f)._id===s.authorId,[N,v]=(0,n.useState)(0),[b,k]=(0,n.useState)(!1),[w,S]=(0,n.useState)("Not Flagged");async function y(){b?(v(N-1),k(!b)):(v(N+1),k(!b));const e=await(0,m.AT)(s._id);k(e.liked),v(e.likes)}return(0,n.useEffect)((()=>{if(void 0!==s.id){(async()=>{})()}}),[s.id]),console.log(s.created_at.seconds),(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"article_post",children:(0,_.jsxs)("div",{id:"article_card_wrapper",children:[(0,_.jsx)("div",{className:"article_card_about",children:(0,_.jsxs)("ul",{children:[(0,_.jsx)(o.N_,{to:"/profile/".concat(s.authorId),className:"article_card_linker",children:(0,_.jsxs)("li",{children:[s.authorProfile?(0,_.jsx)("img",{src:s.authorProfile,alt:""}):(0,_.jsx)("img",{src:d,alt:"profile"})," ",(0,_.jsx)("span",{children:s.author})]})}),(0,_.jsx)("li",{children:u()(s.created_at.toDate()).fromNow()}),(0,_.jsxs)("li",{className:"show_on",children:[s.timeTakenToReadPost," min read"]}),(0,_.jsx)("li",{className:"show_on",children:w})]})}),(0,_.jsxs)("div",{className:"article_card_mid",children:[(0,_.jsxs)("div",{className:"letter_part",children:[(0,_.jsx)(o.N_,{className:"article_card_linker",to:"/article/".concat(s.id),children:(0,_.jsx)("h2",{children:s.title})}),(0,_.jsx)("p",{children:s.description})]}),(0,_.jsx)("div",{className:"img_part",children:null!==s.descPhoto?(0,_.jsx)("img",{src:s.descPhoto,alt:"article_img_blob"}):(0,_.jsx)("img",{src:h,alt:"default_img"})})]}),(0,_.jsxs)("div",{className:"article_reactions",children:[(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:(0,_.jsx)("span",{className:"card_topic",children:s.categories})}),(0,_.jsx)("li",{children:(0,_.jsxs)("span",{className:"show_of",children:[s.timeTakenToReadPost," min read"]})}),(0,_.jsx)("li",{children:(0,_.jsx)("span",{className:"show_of",children:w})}),(0,_.jsxs)("li",{children:[N," likes"]})]}),(0,_.jsxs)("ul",{children:[b?(0,_.jsx)("li",{children:(0,_.jsx)(c.F8A,{onClick:y,className:"article_card_icons hvr-float-shadow"})}):(0,_.jsx)("li",{children:(0,_.jsx)(i.$qj,{onClick:y,className:"article_card_icons hvr-float-shadow"})}),!g&&(0,_.jsx)("li",{children:(0,_.jsx)(l.ltS,{onClick:function(){(0,m.if)(s._id)},className:"article_card_icons hvr-float-shadow"})}),g&&(0,_.jsx)("li",{children:(0,_.jsx)(t.kgr,{onClick:function(){(0,m.a)(s._id)},className:"article_card_icons hvr-float-shadow"})}),g&&(0,_.jsx)("li",{children:(0,_.jsx)(i.AoX,{onClick:function(){j((0,p.yo)({id:s._id,title:s.title,body:s.body,timeTakenToReadPost:s.timeTakenToReadPost,description:s.description,categories:s.categories[0],isUpdate:!0})),a("/writepage")},className:"article_card_icons hvr-float-shadow"})})]})]})]})})})}))},8161:(e,s,a)=>{a.d(s,{A:()=>p});var l=a(5043),i=a(5927),t=a(9153),c=a(221),r=a(4966),o=a(5369),n=a(5475),d=a(9054),h=a(8298),m=a(8059),x=a(579);const p=(0,l.memo)((e=>{const[s,a]=(0,l.useState)({}),[p,j]=(0,l.useState)(!1),u=(0,h.wA)(),_=["topbar",e.showBottomBoxShadow?"bottom-box-shadow":""].join(" "),f=localStorage.getItem("user").replace(/"/g,"");(0,l.useEffect)((()=>{(async()=>{const e=await(0,d.Sk)(f);a(e)})()}),[]);const g=()=>{j(!p),u((0,m.V_)(p))};return(0,x.jsxs)("section",{className:_,children:[(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)("div",{className:"logo-1",children:[(0,x.jsx)(n.N_,{to:"/dashboard",children:(0,x.jsx)("img",{className:"img1",src:i,alt:"lancaster-logo"})}),e.showText?(0,x.jsx)("span",{className:"logo-text",children:e.logoText}):(0,x.jsx)(n.N_,{to:"/dashboard",className:"home_link",children:(0,x.jsxs)("span",{className:"logo-text other_small",children:["Scholar",(0,x.jsx)("span",{className:"colored_part",children:"Scribe"})]})})]}),(0,x.jsxs)("ul",{className:"navbar",children:[e.showButton?(0,x.jsx)("li",{children:(0,x.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.publishClick,children:"Publish"})}):(0,x.jsx)("li",{children:(0,x.jsxs)(n.N_,{to:"/writepage",className:"write",children:[(0,x.jsx)(c.cg8,{className:"write_icon"}),(0,x.jsx)("span",{className:"write_link hvr-wobble-top",children:"Write"})]})}),(0,x.jsx)("li",{children:(0,x.jsxs)("div",{className:"bg__change",children:[(0,x.jsx)("input",{type:"checkbox",id:"checkbox",className:"checkbox",onClick:g}),(0,x.jsxs)("label",{for:"checkbox",className:"checkbox__label",children:[(0,x.jsx)(o.V6H,{className:"fa-moon"}),(0,x.jsx)(o.wQq,{className:"fa-sun"}),(0,x.jsx)("span",{className:"check__ball",onClick:g})]})]})}),e.profile?(0,x.jsx)("li",{children:(0,x.jsx)(n.N_,{to:"/",children:(0,x.jsx)("button",{className:"publish-button hvr-wobble-top",onClick:e.logoutClick,children:"Logout"})})}):(0,x.jsx)("li",{children:(0,x.jsx)(n.N_,{to:"/profile/".concat(f),children:s.profilePicture?(0,x.jsx)("img",{className:"img4",src:s.profilePicture,alt:""}):(0,x.jsx)("img",{className:"img4",src:t,alt:""})})})]})]}),e.sidebar?e.showBottomBoxShadow&&(0,x.jsx)(r.fnX,{className:"topbar_panel",onClick:e.sideBarHandle}):e.showBottomBoxShadow&&(0,x.jsx)(r.Wj,{className:"topbar_panel",onClick:e.sideBarHandle})]})}))},9153:(e,s,a)=>{e.exports=a.p+"static/media/profilevactor.4779aeafa6e57abc3cd1.jpg"}}]);
//# sourceMappingURL=279.03c2b51e.chunk.js.map