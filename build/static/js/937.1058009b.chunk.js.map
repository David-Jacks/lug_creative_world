{"version":3,"file":"static/js/937.1058009b.chunk.js","mappings":"sUAUA,MAwDA,EAxDmBA,IAA0B,IAAzB,QAAEC,EAAO,OAAEC,GAAQF,EACrC,MAAOG,EAAUC,IAAeC,EAAAA,EAAAA,WAAS,GAYzC,OACEC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OAAKC,GAAG,cAAaF,SAAA,EACnBC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,mBAAkBH,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,0BAAyBH,SAAA,CACrCP,EAAQW,KAAKC,gBACZP,EAAAA,EAAAA,KAAA,OACEQ,IAAG,yBAAAC,OAA2Bd,EAAQW,KAAKC,gBAC3CG,IAAI,MAGNV,EAAAA,EAAAA,KAAA,OAAKQ,IAAKG,EAAaD,IAAI,aAE7BP,EAAAA,EAAAA,MAAA,OAAKE,UAAU,eAAcH,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,QAAAE,SAAOP,EAAQW,KAAKM,YACpBZ,EAAAA,EAAAA,KAAA,QAAAE,SAAOW,IAAOlB,EAAQmB,WAAWC,mBAGrCZ,EAAAA,EAAAA,MAAA,OAAKE,UAAU,oBAAmBH,SAAA,EAC/BF,EAAAA,EAAAA,KAACgB,EAAAA,IAAW,CAACX,UAAU,OAAOY,QA7BtBC,KACjBpB,GAAaD,EAAS,KA6BdM,EAAAA,EAAAA,MAAA,MAAIE,UAAS,QAAAI,OAAUZ,EAAW,WAAa,IAAKK,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAO,cAETF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBAIVF,EAAAA,EAAAA,KAAA,OAAKK,UAAU,sBAAqBH,UAClCF,EAAAA,EAAAA,KAAA,KAAAE,SAAIP,EAAQwB,iBAEdnB,EAAAA,EAAAA,KAAA,OAAKK,UAAU,wBAAuBH,UACpCF,EAAAA,EAAAA,KAAA,OAAKK,UAAU,gBAAeH,UAC5BF,EAAAA,EAAAA,KAACoB,EAAAA,IAAM,CAACf,UAAU,iBAMvB,EC4DP,EAnHsBgB,IACpB,MAAMf,EAAOgB,aAAaC,QAAQ,QAC5BC,EAAaC,KAAKC,MAAMpB,IACvBa,EAAaQ,IAAkB5B,EAAAA,EAAAA,UAAS,KACxC6B,EAAUC,IAAe9B,EAAAA,EAAAA,UAAS,KAClC+B,EAAgBC,IAAqBhC,EAAAA,EAAAA,WAAS,IAC9CiC,EAAaC,IAAkBlC,EAAAA,EAAAA,UAAS,CAAC,IAEhDmC,EAAAA,EAAAA,YAAU,MACRC,iBACE,MAAMC,QAAYC,EAAAA,EAAAA,IAAcb,EAAWc,KAC3CL,EAAeG,EACjB,CACAG,GAEAJ,iBACE,MAAMC,QAAYI,EAAAA,EAAAA,IAAYnB,EAAMoB,WACpCpB,EAAMqB,iBAAiBN,EAAIO,QAC3Bd,EAAYO,EACd,CAEAQ,EAAgB,GACf,CAACzB,IACJ0B,QAAQC,IAAIlB,EAASe,QAIrB,MAGMI,EAAW,CAAE5B,eAmBnB,OACEnB,EAAAA,EAAAA,KAAA,OAAKK,UAAU,gBAAeH,UAC5BC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,gBAAeH,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,cAAaH,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAK8B,EAAYpB,SAAS,qBAC1BZ,EAAAA,EAAAA,KAAA,UAAQK,UAAU,wBAAwBY,QAASI,EAAM2B,QAAQ9C,UAC/DF,EAAAA,EAAAA,KAACiD,EAAAA,IAAQ,UAGXnB,IACA9B,EAAAA,EAAAA,KAAA,SACEkD,KAAK,OACLjC,QAlBV,WACEc,GAAkB,EACpB,EAiBUoB,KAAK,GACL/C,GAAG,aACHgD,YAAY,4BAIdjD,EAAAA,EAAAA,MAAA,QACEE,UAAS,gBAAAI,OAAkBqB,EAAiB,SAAW,IACvDuB,SAtCWlB,UAGnB,GAFAmB,EAAEC,iBAEEpC,EAAa,CACfY,GAAkB,SAEAyB,EAAAA,EAAAA,IAAYnC,EAAMoB,UAAWM,EACjD,GA+B+B7C,SAAA,EAEvBC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,wBAAuBH,SAAA,CACnC8B,EAAYzB,gBACXP,EAAAA,EAAAA,KAAA,OACEQ,IAAG,yBAAAC,OAA2BuB,EAAYzB,gBAC1CG,IAAI,aAGNV,EAAAA,EAAAA,KAAA,OAAKQ,IAAKG,EAAaD,IAAI,qBAE7BV,EAAAA,EAAAA,KAAA,QAAAE,SAAO8B,EAAYpB,eAErBZ,EAAAA,EAAAA,KAAA,YACEK,UAAU,eACVoD,MAAOtC,EACPuC,SA3DWJ,IACrB3B,EAAe2B,EAAEK,OAAOF,MAAM,EA2DpBG,UAAQ,EACRR,YAAY,4BAGdjD,EAAAA,EAAAA,MAAA,OAAKE,UAAU,2BAA0BH,SAAA,EACvCF,EAAAA,EAAAA,KAAA,QACEiB,QAASA,KACPc,GAAkB,EAAM,EACxB7B,SACH,YAGDF,EAAAA,EAAAA,KAAA,UAAQkD,KAAK,SAAS7C,UAAU,iBAAgBH,SAAC,kBAOtD0B,GACCA,EAASiC,KAAKC,IACZ9D,EAAAA,EAAAA,KAAC+D,EAAU,CAAepE,QAASmE,EAAKlE,OAAQyB,EAAMoB,WAArCqB,EAAIxB,WAGvB,EC0DV,EAjKgB0B,KACd,MACMC,GADWC,EAAAA,EAAAA,MACKC,SAASC,MAAM,KAAK,IACnCC,EAASC,IAAcvE,EAAAA,EAAAA,UAAS,CAAC,IACjCJ,EAAS4E,IAAcxE,EAAAA,EAAAA,WAAS,IAChCyE,EAAOC,IAAY1E,EAAAA,EAAAA,UAAS,IAC5B2E,EAAchC,IAAoB3C,EAAAA,EAAAA,UAAS,IAC3C4E,EAAOC,IAAY7E,EAAAA,EAAAA,WAAS,IAC5B8E,EAASC,IAAa/E,EAAAA,EAAAA,UAAS,eA8BtCoC,eAAe4C,IACTJ,GACFF,EAASD,EAAQ,GACjBI,GAAUD,KAEVF,EAASD,EAAQ,GACjBI,GAAUD,IAGZ,MAAMK,EAAO,CAAER,QAAOG,SAChBvC,QAAY6C,EAAAA,EAAAA,IAAgBhB,EAAMe,GACxCJ,EAASxC,EAAIuC,OACbF,EAASrC,EAAIoC,MACf,CAWA,OApDAtC,EAAAA,EAAAA,YAAU,KACUC,WAChB,IACE,MAAM+C,QAAiBC,EAAAA,EAAAA,IAAkBlB,GACzCK,EAAWY,EACb,CAAE,MAAOE,GACP,MAAMA,CACR,GAEFC,EAAW,GAcV,CAACpB,IA2BJpB,QAAQC,OAGN9C,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OAAKC,GAAG,uBAAsBF,SAAA,EAC5BF,EAAAA,EAAAA,KAACsF,EAAAA,EAAM,KACPnF,EAAAA,EAAAA,MAAA,OAAKE,UAAU,4BAA2BH,SAAA,EACxCC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,oBAAmBH,SAAA,EAChCF,EAAAA,EAAAA,KAAA,MAAAE,SAAKmE,EAAQkB,SACbpF,EAAAA,EAAAA,MAAA,OAAKE,UAAU,WAAUH,SAAA,EACvBF,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CAACC,GAAE,YAAAhF,OAAc4D,EAAQqB,UAAWxF,SACtCmE,EAAQsB,eACP3F,EAAAA,EAAAA,KAAA,OACEQ,IAAK6D,EAAQsB,cACbjF,IAAI,oBAGNV,EAAAA,EAAAA,KAAA,OAAKQ,IAAKoF,EAAYlF,IAAI,uBAG9BP,EAAAA,EAAAA,MAAA,OAAKE,UAAU,QAAOH,SAAA,EACpBF,EAAAA,EAAAA,KAAA,OAAKK,UAAU,OAAMH,UACnBF,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CACHC,GAAE,YAAAhF,OAAc4D,EAAQqB,UACxBrF,UAAU,aAAYH,UAEtBF,EAAAA,EAAAA,KAAA,QAAAE,SAAOmE,EAAQwB,cAGnB1F,EAAAA,EAAAA,MAAA,OAAKE,UAAU,OAAMH,SAAA,EACnBF,EAAAA,EAAAA,KAAA,QAAAE,SACGW,IAAOwD,EAAQyB,WAAWC,UAAUhF,aAEvCZ,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOmE,EAAQ2B,oBAAoB,yBAIzChG,EAAAA,EAAAA,KAAA,MAAAE,UACEC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,QAAAE,SAAO2E,KACP1E,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOwE,EAAa,gBACpBvE,EAAAA,EAAAA,MAAA,QAAAD,SAAA,CAAOsE,EAAM,oBAIlB7E,IACCK,EAAAA,EAAAA,KAACiG,EAAY,CACXjD,QAASA,IAAMuB,GAAW,GAC1BF,QAASA,EACT5B,UAAWwB,EACXvB,iBAAkBA,KAGtB1C,EAAAA,EAAAA,KAAA,OAAKK,UAAU,+BAA8BH,UAC3CF,EAAAA,EAAAA,KAACkG,EAAAA,EAAW,CAACC,KAAM9B,EAAQ8B,UAG7BnG,EAAAA,EAAAA,KAAA,OAAKK,UAAU,mBAAkBH,UAC/BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAEGyE,GACC3E,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACoG,EAAAA,IAAU,CACTnF,QAAS8D,EACT1E,UAAU,sCAIdL,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACoB,EAAAA,IAAM,CACLH,QAAS8D,EACT1E,UAAU,sCAIhBF,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAACqG,EAAAA,IAAS,CACRpF,QAASA,KACPsD,GAAW,EAAK,EAElBlE,UAAU,mCACT,QAELL,EAAAA,EAAAA,KAACsG,EAAAA,IAAS,CACRrF,QA7Gd,YACEsF,EAAAA,EAAAA,IAAYtC,EACd,EA4Gc5D,UAAU,+CAYnB,C,mFC9JP,QATA,SAAoBX,GAAU,IAAT,KAACyG,GAAKzG,EAGzB,MAAM8G,EAAgBC,IAAAA,SAAmBN,GACzC,OACEnG,EAAAA,EAAAA,KAAA,OAAKK,UAAU,8BAA8BqG,wBAAyB,CAAEC,OAAQH,IAEpF,C,kJCKA,MAwIA,GAxIeI,EAAAA,EAAAA,OAAMvF,IACnB,MAAOwF,EAAUC,IAAe/G,EAAAA,EAAAA,UAAS,CAAC,IACnCgH,EAAMC,IAAejH,EAAAA,EAAAA,WAAS,GAE/BkH,GAAUC,EAAAA,EAAAA,MAEVC,EAAgB,CACpB,SACA9F,EAAM+F,oBAAsB,oBAAsB,IAClDC,KAAK,KAEDC,EAAShG,aAAaC,QAAQ,QAAQgG,QAAQ,KAAM,KAE1DrF,EAAAA,EAAAA,YAAU,KACoBC,WAC1B,MAAMC,QAAYC,EAAAA,EAAAA,IAAciF,GAChCR,EAAY1E,EAAI,EAGlBoF,EAAqB,GACpB,IAIH,MAQMC,EAAmBA,KACvBT,GAAaD,GAPXE,GAAQS,EAAAA,EAAAA,IAAYX,GAQN,EAGlB,OACE5G,EAAAA,EAAAA,MAAA,WAASE,UAAW8G,EAAcjH,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,YAAWH,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,SAAQH,SAAA,EACrBF,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CAACC,GAAG,aAAYvF,UACnBF,EAAAA,EAAAA,KAAA,OAAKK,UAAU,OAAOG,IAAKmH,EAAQjH,IAAI,qBAExCW,EAAMuG,UACL5H,EAAAA,EAAAA,KAAA,QAAMK,UAAU,YAAWH,SAAEmB,EAAMwG,YAEnC7H,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CAACC,GAAG,aAAapF,UAAU,YAAWH,UACzCC,EAAAA,EAAAA,MAAA,QAAME,UAAU,wBAAuBH,SAAA,CAAC,WAC/BF,EAAAA,EAAAA,KAAA,QAAMK,UAAU,eAAcH,SAAC,oBAK9CC,EAAAA,EAAAA,MAAA,MAAIE,UAAU,SAAQH,SAAA,CACnBmB,EAAMyG,YACL9H,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,UACEK,UAAU,gCACVY,QAASI,EAAM0G,aAAa7H,SAC7B,eAKHF,EAAAA,EAAAA,KAAA,MAAAE,UACEC,EAAAA,EAAAA,MAACqF,EAAAA,GAAI,CAACC,GAAG,aAAapF,UAAU,QAAOH,SAAA,EACrCF,EAAAA,EAAAA,KAACgI,EAAAA,IAAa,CAAC3H,UAAU,gBACzBL,EAAAA,EAAAA,KAAA,QAAMK,UAAU,4BAA2BH,SAAC,gBAIlDF,EAAAA,EAAAA,KAAA,MAAAE,UAKEC,EAAAA,EAAAA,MAAA,OAAKE,UAAU,aAAYH,SAAA,EACzBF,EAAAA,EAAAA,KAAA,SACEkD,KAAK,WACL9C,GAAG,WACHC,UAAU,WACVY,QAASwG,KAEXtH,EAAAA,EAAAA,MAAA,SAAO8H,IAAI,WAAW5H,UAAU,kBAAiBH,SAAA,EAC/CF,EAAAA,EAAAA,KAACkI,EAAAA,IAAM,CAAC7H,UAAU,aAClBL,EAAAA,EAAAA,KAACmI,EAAAA,IAAK,CAAC9H,UAAU,YACjBL,EAAAA,EAAAA,KAAA,QAAMK,UAAU,cAAcY,QAASwG,YAI3CpG,EAAM+G,SAeNpI,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CAACC,GAAG,IAAGvF,UACVF,EAAAA,EAAAA,KAAA,UACEK,UAAU,gCACVY,QAASI,EAAMgH,YAAYnI,SAC5B,gBAnBLF,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAACwF,EAAAA,GAAI,CAACC,GAAE,YAAAhF,OAAc6G,GAASpH,SAC3B2G,EAAStG,gBAGTP,EAAAA,EAAAA,KAAA,OACEK,UAAU,OACVG,IAAKqG,EAAStG,eACdG,IAAI,MALNV,EAAAA,EAAAA,KAAA,OAAKK,UAAU,OAAOG,IAAK8H,EAAQ5H,IAAI,eAwBjDW,EAAMkH,QAOJlH,EAAM+F,sBACJpH,EAAAA,EAAAA,KAACwI,EAAAA,IAAiC,CAChCnI,UAAU,eACVY,QAASI,EAAMoH,gBATnBpH,EAAM+F,sBACJpH,EAAAA,EAAAA,KAAC0I,EAAAA,GAA+B,CAC9BrI,UAAU,eACVY,QAASI,EAAMoH,kBASf,G","sources":["components/comment/commentbox.jsx","components/Modals/commentModal/comment.jsx","components/Article/article.jsx","components/Articletext/articletext.jsx","components/Topbar/topbar.jsx"],"sourcesContent":["import \"./commentbox.css\";\r\nimport profile_img from \"../../images/profilevactor.jpg\";\r\n// import { AiFillLike } from \"react-icons/ai\";\r\nimport { BiLike } from \"react-icons/bi\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\n// import { FaFlag, FaRegSave, FaSadCry } from \"react-icons/fa\";\r\nimport { useState } from \"react\";\r\nimport moment from \"moment\";\r\n// import { delComment } from \"../../api\";\r\n\r\nconst Commentbox = ({ comment, postid }) => {\r\n  const [showDrop, setShowDrop] = useState(false);\r\n\r\n  const handleDrop = () => {\r\n    setShowDrop(!showDrop);\r\n  };\r\n  // const handleDelete = async () => {\r\n  //   const ans = await delComment(postid, comment._id);\r\n  //   if (ans === 200) {\r\n  //     alert(\"successfully deleted comment\");\r\n  //     window.location.reload();\r\n  //   }\r\n  // };\r\n  return (\r\n    <>\r\n      <div id=\"comment_box\">\r\n        <div className=\"comment_box_head\">\r\n          <div className=\"comment_profile_contain\">\r\n            {comment.user.profilePicture ? (\r\n              <img\r\n                src={`data:image/png;base64,${comment.user.profilePicture}`}\r\n                alt=\"\"\r\n              />\r\n            ) : (\r\n              <img src={profile_img} alt=\"profile\" />\r\n            )}\r\n            <div className=\"profile_data\">\r\n              <span>{comment.user.username}</span>\r\n              <span>{moment(comment.createdAt).fromNow()}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"drop_down_comment\">\r\n            {<BsThreeDots className=\"icon\" onClick={handleDrop} />}\r\n            <ul className={`drop ${showDrop ? \"showdrop\" : \"\"}`}>\r\n              <li>\r\n                <span >Delete</span>\r\n              </li>\r\n              <li>Edit</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div className=\"comment_box_message\">\r\n          <p>{comment.commentText}</p>\r\n        </div>\r\n        <div className=\"comment_box_reactions\">\r\n          <div className=\"comment_icons\">\r\n            <BiLike className=\"icon\" />\r\n            {/* <span>10</span> */}\r\n          </div>\r\n          {/* <span>reply</span> */}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Commentbox;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { GiCancel } from \"react-icons/gi\";\r\nimport \"./comment.css\";\r\nimport profile_img from \"../../../images/profilevactor.jpg\";\r\nimport { fetchUserData, getComments, postComment } from \"../../../api\";\r\nimport Commentbox from \"../../comment/commentbox\";\r\n\r\nconst CommentModal = (props) => {\r\n  const user = localStorage.getItem(\"user\");\r\n  const userObject = JSON.parse(user);\r\n  const [commentText, setCommenttext] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [showlargeinput, setShowLargeInput] = useState(false);\r\n  const [userDetails, setUserDetails] = useState({});\r\n\r\n  useEffect(() => {\r\n    async function getUserCommenting() {\r\n      const ans = await fetchUserData(userObject._id);\r\n      setUserDetails(ans);\r\n    }\r\n    getUserCommenting();\r\n\r\n    async function getAllComments() {\r\n      const ans = await getComments(props.articleid);\r\n      props.setCommentsCount(ans.length);\r\n      setComments(ans);\r\n    }\r\n\r\n    getAllComments();\r\n  }, [commentText]);\r\n  console.log(comments.length);\r\n  // getting number of comments\r\n\r\n  // handling onchange and keeping comment text\r\n  const handlecomment = (e) => {\r\n    setCommenttext(e.target.value);\r\n  };\r\n  const formData = { commentText };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (commentText) {\r\n      setShowLargeInput(false);\r\n      // handle commenting post api\r\n      const ans = await postComment(props.articleid, formData);\r\n    }\r\n    // props.onClose();\r\n  };\r\n\r\n  function handleInputClick() {\r\n    setShowLargeInput(true);\r\n  }\r\n  // if (isloading){\r\n  //   return (<Loading />);\r\n  // }\r\n  return (\r\n    <div className=\"comment_modal\">\r\n      <div className=\"modal_content\">\r\n        <div className=\"comment_top\">\r\n          <h4>{userDetails.username} is commenting</h4>\r\n          <button className=\"comment_cancel_button\" onClick={props.onClose}>\r\n            <GiCancel />\r\n          </button>\r\n        </div>\r\n        {!showlargeinput && (\r\n          <input\r\n            type=\"text\"\r\n            onClick={handleInputClick}\r\n            name=\"\"\r\n            id=\"inputclick\"\r\n            placeholder=\"pin down your opinions\"\r\n          />\r\n        )}\r\n        {\r\n          <form\r\n            className={`comment_form ${showlargeinput ? \"active\" : \"\"}`}\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <div className=\"comment_owner_profile\">\r\n              {userDetails.profilePicture ? (\r\n                <img\r\n                  src={`data:image/png;base64,${userDetails.profilePicture}`}\r\n                  alt=\"profile\"\r\n                />\r\n              ) : (\r\n                <img src={profile_img} alt=\"default_profile\" />\r\n              )}\r\n              <span>{userDetails.username}</span>\r\n            </div>\r\n            <textarea\r\n              className=\"comment_area\"\r\n              value={commentText}\r\n              onChange={handlecomment}\r\n              required\r\n              placeholder=\"pin down your opinions\"\r\n            />\r\n\r\n            <div className=\"comment_bottom_container\">\r\n              <span\r\n                onClick={() => {\r\n                  setShowLargeInput(false);\r\n                }}\r\n              >\r\n                Cancel\r\n              </span>\r\n              <button type=\"submit\" className=\"comment_button\">\r\n                comment\r\n              </button>\r\n            </div>\r\n          </form>\r\n        }\r\n\r\n        {comments &&\r\n          comments.map((val) => (\r\n            <Commentbox key={val._id} comment={val} postid={props.articleid} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentModal;\r\n","import \"./article.css\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport \"../../Pages/Writepage/writepage.css\";\r\nimport prfile_img from \"../../images/profilevactor.jpg\";\r\nimport { FaFlag, FaRegSave, FaShareSquare, FaComment } from \"react-icons/fa\";\r\nimport { AiFillLike } from \"react-icons/ai\";\r\nimport { BiLike } from \"react-icons/bi\";\r\nimport Topbar from \"../Topbar/topbar\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loading from \"../../components/Modals/loadingmodal/loading\";\r\nimport Articletext from \"../Articletext/articletext\";\r\nimport { handleLikeClick, getLikes, saveArticle, fetchuserArticles } from \"../../api\";\r\nimport CommentModal from \"../Modals/commentModal/comment\";\r\nimport moment from \"moment\";\r\nconst Article = () => {\r\n  const location = useLocation();\r\n  const path = location.pathname.split(\"/\")[2];\r\n  const [article, setArticle] = useState({});\r\n  const [comment, setComment] = useState(false);\r\n  const [likes, setLikes] = useState(0);\r\n  const [commentCount, setCommentsCount] = useState(0);\r\n  const [liked, setLiked] = useState(false);\r\n  const [flagged, setFlaged] = useState(\"Not Flagged\");\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        const response = await fetchuserArticles(path);\r\n        setArticle(response);\r\n      } catch (error) {\r\n        throw error;\r\n      }\r\n    };\r\n    fetchPost();\r\n  //   if (path !== undefined) {\r\n  //     const fetchData = async () => {\r\n  //       try {\r\n  //         const likesData = await getLikes(path);\r\n  //         console.log(likesData);\r\n  //         setLikes(likesData.likes);\r\n  //         setLiked(likesData.liked);\r\n  //       } catch (error) {\r\n  //         throw error;\r\n  //       }\r\n  //     };\r\n  //     fetchData();\r\n  //   }\r\n  }, [path]);\r\n\r\n  function handleSave() {\r\n    saveArticle(path);\r\n  }\r\n  async function handleLikes() {\r\n    if (liked) {\r\n      setLikes(likes - 1);\r\n      setLiked(!liked);\r\n    } else {\r\n      setLikes(likes + 1);\r\n      setLiked(!liked);\r\n    }\r\n\r\n    const data = { likes, liked };\r\n    const ans = await handleLikeClick(path, data);\r\n    setLiked(ans.liked);\r\n    setLikes(ans.likes);\r\n  }\r\n  //   function handleFlagg() {\r\n  //     if (flagged === \"Flagged\") setFlaged(\"Not Flagged\");\r\n  //     else if (flagged === \"Not Flagged\") setFlaged(\"Flagged\");\r\n  //   }\r\n\r\n  // if (Object.keys(article).length === 0) {\r\n  //   return <Loading />;\r\n  // }\r\n  console.log()\r\n\r\n  return (\r\n    <>\r\n      <div id=\"article_view_wrapper\">\r\n        <Topbar />\r\n        <div className=\"article_wrapper_container\">\r\n          <div className=\"article_view_head\">\r\n            <h2>{article.title}</h2>\r\n            <div className=\"div_main\">\r\n              <Link to={`/profile/${article.authorId}`}>\r\n                {article.authorProfile ? (\r\n                  <img\r\n                    src={article.authorProfile}\r\n                    alt=\"author_profile\"\r\n                  />\r\n                ) : (\r\n                  <img src={prfile_img} alt=\"default_profile\" />\r\n                )}\r\n              </Link>\r\n              <div className=\"div_p\">\r\n                <div className=\"div1\">\r\n                  <Link\r\n                    to={`/profile/${article.authorId}`}\r\n                    className=\"to_profile\"\r\n                  >\r\n                    <span>{article.author}</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"div2\">\r\n                  <span>\r\n                    {moment(article.created_at.toDate()).fromNow()}\r\n                  </span>\r\n                  <span>{article.timeTakenToReadPost} min read</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <ul>\r\n              <li>\r\n                <span>{flagged}</span>\r\n                <span>{commentCount} Comments</span>\r\n                <span>{likes} Likes</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          {comment && (\r\n            <CommentModal\r\n              onClose={() => setComment(false)}\r\n              article={article}\r\n              articleid={path}\r\n              setCommentsCount={setCommentsCount}\r\n            />\r\n          )}\r\n          <div className=\"article_view_main ql-editor \">\r\n            <Articletext body={article.body} />\r\n          </div>\r\n\r\n          <div className=\"article_controls\">\r\n            <ul>\r\n              {/* <FaShareSquare className=\"article_icons hvr-float-shadow\" /> */}\r\n              {liked ? (\r\n                <li>\r\n                  <AiFillLike\r\n                    onClick={handleLikes}\r\n                    className=\"article_icons hvr-float-shadow\"\r\n                  />\r\n                </li>\r\n              ) : (\r\n                <li>\r\n                  <BiLike\r\n                    onClick={handleLikes}\r\n                    className=\"article_icons hvr-float-shadow\"\r\n                  />\r\n                </li>\r\n              )}\r\n              <li>\r\n                <FaComment\r\n                  onClick={() => {\r\n                    setComment(true);\r\n                  }}\r\n                  className=\"article_icons hvr-float-shadow\"\r\n                />{\" \"}\r\n              </li>\r\n              <FaRegSave\r\n                onClick={handleSave}\r\n                className=\"article_icons hvr-float-shadow\"\r\n              />\r\n              {/* <li>\r\n                <FaFlag\r\n                  onClick={handleFlagg}\r\n                  className=\"article_icons hvr-float-shadow\"\r\n                />\r\n              </li> */}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Article;\r\n","import DOMpurify from \"dompurify\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport \"./articletext.css\";\r\nimport { useSelector } from \"react-redux/es/hooks/useSelector\";\r\n\r\nfunction Articletext({body}) {\r\n  // const article = useSelector((state) => state.article.value);\r\n  //to presvent some security risks like xss and html injection, we are making use of dompurify to render purified html content\r\n  const sanitizedHTML = DOMpurify.sanitize(body);\r\n  return (\r\n    <div className=\"article_view_para ql-editor\" dangerouslySetInnerHTML={{ __html: sanitizedHTML }}></div>\r\n  )\r\n}\r\n\r\nexport default Articletext;","import React, { memo, useCallback, useEffect, useState } from \"react\";\r\nimport \"./topbar.css\";\r\nimport image1 from \"../../images/image1.png\";\r\nimport image2 from \"../../images/profilevactor.jpg\";\r\nimport { IoBookOutline } from \"react-icons/io5\";\r\n// import { IoIosNotifications } from \"react-icons/io\";\r\nimport {\r\n  TbLayoutSidebarLeftCollapseFilled,\r\n  TbLayoutSidebarLeftExpandFilled,\r\n} from \"react-icons/tb\";\r\nimport { FaSun } from \"react-icons/fa\";\r\nimport { FaMoon } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchUserData } from \"../../api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateTheme } from \"../../features/theme\";\r\n\r\nconst Topbar = memo((props) => {\r\n  const [userinfo, setUserInfo] = useState({});\r\n  const [dark, setdarkMode] = useState(false);\r\n\r\n  const dispach = useDispatch();\r\n  // css classes specification\r\n  const topbarClasses = [\r\n    \"topbar\",\r\n    props.showBottomBoxShadow ? \"bottom-box-shadow\" : \"\",\r\n  ].join(\" \");\r\n\r\n  const userid = localStorage.getItem(\"user\").replace(/\"/g, \"\"); //getting user info from the localstorage\r\n  // const user = JSON.parse(userString);\r\n  useEffect(() => {\r\n    const userDataFromBackend = async () => {\r\n      const ans = await fetchUserData(userid);\r\n      setUserInfo(ans);\r\n    };\r\n\r\n    userDataFromBackend();\r\n  }, []);\r\n\r\n  // taking care of changing themes\r\n\r\n  const handleBgChange = () => {\r\n    if (dark) {\r\n      dispach(updateTheme(dark));\r\n    } else {\r\n      dispach(updateTheme(dark));\r\n    }\r\n  };\r\n\r\n  const handleThemeClick = () => {\r\n    setdarkMode(!dark);\r\n    handleBgChange();\r\n  };\r\n\r\n  return (\r\n    <section className={topbarClasses}>\r\n      <div className=\"container\">\r\n        <div className=\"logo-1\">\r\n          <Link to=\"/dashboard\">\r\n            <img className=\"img1\" src={image1} alt=\"lancaster-logo\" />\r\n          </Link>\r\n          {props.showText ? (\r\n            <span className=\"logo-text\">{props.logoText}</span>\r\n          ) : (\r\n            <Link to=\"/dashboard\" className=\"home_link\">\r\n              <span className=\"logo-text other_small\">\r\n                Scholar<span className=\"colored_part\">Scribe</span>\r\n              </span>\r\n            </Link>\r\n          )}\r\n        </div>\r\n        <ul className=\"navbar\">\r\n          {props.showButton ? (\r\n            <li>\r\n              <button\r\n                className=\"publish-button hvr-wobble-top\"\r\n                onClick={props.publishClick}\r\n              >\r\n                Publish\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/writepage\" className=\"write\">\r\n                <IoBookOutline className=\"write_icon\" />\r\n                <span className=\"write_link hvr-wobble-top\">Write</span>\r\n              </Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            {/* <div className=\"notification\">\r\n              <IoIosNotifications className=\"notification-icon hvr-pulse-shrink\" />\r\n              <span>5</span>\r\n            </div> */}\r\n            <div className=\"bg__change\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"checkbox\"\r\n                className=\"checkbox\"\r\n                onClick={handleThemeClick}\r\n              />\r\n              <label for=\"checkbox\" className=\"checkbox__label\">\r\n                <FaMoon className=\"fa-moon\" />\r\n                <FaSun className=\"fa-sun\" />\r\n                <span className=\"check__ball\" onClick={handleThemeClick}></span>\r\n              </label>\r\n            </div>\r\n          </li>\r\n          {!props.profile ? (\r\n            <li>\r\n              <Link to={`/profile/${userid}`}>\r\n                {!userinfo.profilePicture ? (\r\n                  <img className=\"img4\" src={image2} alt=\"\" />\r\n                ) : (\r\n                  <img\r\n                    className=\"img4\"\r\n                    src={userinfo.profilePicture}\r\n                    alt=\"\"\r\n                  />\r\n                )}\r\n              </Link>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/\">\r\n                <button\r\n                  className=\"publish-button hvr-wobble-top\"\r\n                  onClick={props.logoutClick}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </Link>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n      {!props.sidebar\r\n        ? props.showBottomBoxShadow && (\r\n            <TbLayoutSidebarLeftExpandFilled\r\n              className=\"topbar_panel\"\r\n              onClick={props.sideBarHandle}\r\n            />\r\n          )\r\n        : props.showBottomBoxShadow && (\r\n            <TbLayoutSidebarLeftCollapseFilled\r\n              className=\"topbar_panel\"\r\n              onClick={props.sideBarHandle}\r\n            />\r\n          )}\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Topbar;\r\n"],"names":["_ref","comment","postid","showDrop","setShowDrop","useState","_jsx","_Fragment","children","_jsxs","id","className","user","profilePicture","src","concat","alt","profile_img","username","moment","createdAt","fromNow","BsThreeDots","onClick","handleDrop","commentText","BiLike","props","localStorage","getItem","userObject","JSON","parse","setCommenttext","comments","setComments","showlargeinput","setShowLargeInput","userDetails","setUserDetails","useEffect","async","ans","fetchUserData","_id","getUserCommenting","getComments","articleid","setCommentsCount","length","getAllComments","console","log","formData","onClose","GiCancel","type","name","placeholder","onSubmit","e","preventDefault","postComment","value","onChange","target","required","map","val","Commentbox","Article","path","useLocation","pathname","split","article","setArticle","setComment","likes","setLikes","commentCount","liked","setLiked","flagged","setFlaged","handleLikes","data","handleLikeClick","response","fetchuserArticles","error","fetchPost","Topbar","title","Link","to","authorId","authorProfile","prfile_img","author","created_at","toDate","timeTakenToReadPost","CommentModal","Articletext","body","AiFillLike","FaComment","FaRegSave","saveArticle","sanitizedHTML","DOMpurify","dangerouslySetInnerHTML","__html","memo","userinfo","setUserInfo","dark","setdarkMode","dispach","useDispatch","topbarClasses","showBottomBoxShadow","join","userid","replace","userDataFromBackend","handleThemeClick","updateTheme","image1","showText","logoText","showButton","publishClick","IoBookOutline","for","FaMoon","FaSun","profile","logoutClick","image2","sidebar","TbLayoutSidebarLeftCollapseFilled","sideBarHandle","TbLayoutSidebarLeftExpandFilled"],"sourceRoot":""}