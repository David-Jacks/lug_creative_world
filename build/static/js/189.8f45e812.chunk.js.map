{"version":3,"file":"static/js/189.8f45e812.chunk.js","mappings":"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","sources":["components/Articlelist/articlelist.jsx","cat.js","Pages/Dashboard/dashboard.jsx","components/Articlecard/articlecard.jsx","components/Topbar/topbar.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport \"./articlelist.css\";\r\nimport { memo } from \"react\";\r\n\r\nconst Articlelist = memo((props) =>\r\n{\r\n    return(\r\n        <>\r\n        <div id=\"articlelist\">\r\n            <div className=\"list_wrapper\">\r\n               <Link className=\"link\" to={`/article/${props.article._id}`}>\r\n                    <h3>{props.article.title}</h3>\r\n               </Link> \r\n                <div>\r\n                    <span>{props.article.categories}</span> <span>---</span><span>{new Date(props.article.createdAt).toLocaleDateString('en-US', { month: 'short', day: '2-digit' })}</span>\r\n                </div>       \r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n});\r\n\r\nexport default Articlelist;","export const categories = [\r\n      {\r\n        \"id\": 1,\r\n        \"type\": \"Student Business\"\r\n      },\r\n      {\r\n        \"id\": 2,\r\n        \"type\": \"Case Study\"\r\n      },\r\n      {\r\n        \"id\": 3,\r\n        \"type\": \"Lifestyle\"\r\n      },\r\n      {\r\n        \"id\": 4,\r\n        \"type\": \"Health and wellness\"\r\n      },\r\n      {\r\n        \"id\": 5,\r\n        \"type\": \"Research Proposal\"\r\n      }\r\n    ]\r\n\r\nexport const topdata = [\r\n    {\r\n        \"id\": \"1\",\r\n        \"text\": \"Jane Doe is going to school\"\r\n      }\r\n]\r\n\r\nexport const topauthor = [\r\n          {\r\n            \"id\": \"1\",\r\n            \"name\": \"Jane Doe\",\r\n            \"profilePic\": null\r\n          }\r\n\r\n]\r\n  ","import Articlecard from \"../../components/Articlecard/articlecard\";\r\nimport Topbar from \"../../components/Topbar/topbar\";\r\nimport \"./dashboard.css\";\r\nimport top_author_default_img from \"../../images/profilevactor.jpg\";\r\nimport {\r\n  fetchPostData,\r\n  fetchUserData\r\n} from \"../../api\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loading from \"../../components/Modals/loadingmodal/loading\";\r\nimport { memo, useCallback, useEffect, useState } from \"react\";\r\nimport Articlelist from \"../../components/Articlelist/articlelist\";\r\nimport { categories, topauthor, topdata } from \"../../cat\";\r\n\r\nconst Dashboard = memo(() => {\r\n  const [searchresult, setSearchResult] = useState();\r\n  const [searching, setSearching] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [titleQuery, setTitleQuery] = useState(\"\");\r\n  const [articleData, setArticleData] = useState([]);\r\n  // const [userData, setUserData] = useState({});\r\n  const [offset, setOffset] = useState(0);\r\n\r\n  // getting userid from local storage\r\n  // const userid = localStorage.getItem(\"user\").replace(/\"/g, \"\")\r\n  // const [hasMore, setHasMore] = useState(true);\r\n  const [sidebar, setShowSidebar] = useState(true);\r\n  // handling toggling for sidebar menu in smaller devices\r\n  const sideBarHandle = useCallback(() => {\r\n    setShowSidebar(!sidebar);\r\n  }, [sidebar]);\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const fetchPosts = useCallback(async () => {\r\n    try {\r\n      const data = await fetchPostData();\r\n      setArticleData(data);\r\n      //   console.log(data.length);\r\n      // setOffset(offset + data.length);\r\n\r\n      // if (data.length === 0) {\r\n      //   // setHasMore(false);\r\n      //   return;\r\n      // }\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  }, []); //i added offset as a depending and it was just changing\r\n\r\n  const catsData = categories;\r\n  const topData = topdata;\r\n  const topauthors = topauthor;\r\n\r\n  useEffect(() => {\r\n    // async function searcher() {\r\n    //   const ans = await getArticleByCat(searchQuery);\r\n    //   setSearchResult(ans);\r\n    // }\r\n\r\n    // searcher();\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {\r\n    // async function searchByTitle() {\r\n    //   const ans = await getArticleByTitle(titleQuery);\r\n    //   setSearchResult(ans);\r\n    // }\r\n\r\n    // searchByTitle();\r\n  }, [titleQuery]);\r\n\r\n  let sortedPosts;\r\n\r\n  const handleCatClick = (val) => {\r\n    setSearching(true);\r\n    setSearchQuery(val);\r\n    setShowSidebar(true);\r\n    console.log(val);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setSearching(true);\r\n\r\n    // setTitleQuery(titleQuery)\r\n  };\r\n  // this is to sort the post according to the api calling state\r\n  if (!searching) {\r\n    sortedPosts = articleData;\r\n  } else if (searching) {\r\n    sortedPosts = searchresult;\r\n  }\r\n\r\n  if (!sortedPosts) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"dashboard\">\r\n        <Topbar\r\n          showBottomBoxShadow={true}\r\n          sideBarHandle={sideBarHandle}\r\n          sidebar={sidebar}\r\n        />\r\n        <div className=\"dashboard_wrapper\">\r\n          <div className={!sidebar ? \"dashboard_left\" : \"show_left\"}>\r\n            <div className=\"search_div\">\r\n              <input\r\n                className=\"search\"\r\n                type=\"text\"\r\n                name=\"\"\r\n                value={titleQuery}\r\n                onChange={(e) => setTitleQuery(e.target.value)}\r\n                placeholder=\"Search by article title...\"\r\n              />\r\n              <FaSearch className=\"search_icon\" onClick={handleSearch} />\r\n            </div>\r\n            {/* categories */}\r\n            <div id=\"categories\">\r\n              <h1>Categories</h1>\r\n              <ul>\r\n                {catsData &&\r\n                  catsData.map((data) => (\r\n                    <li\r\n                      key={data.id}\r\n                      value={data.type}\r\n                      onClick={() => {\r\n                        handleCatClick(data.type);\r\n                      }}\r\n                      className=\"link\"\r\n                    >\r\n                      {data.type}\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n            {/* toppost */}\r\n            <div id=\"toppost\">\r\n              <h1>Top Posts</h1>\r\n              <ul>\r\n                {topData &&\r\n                  topData.map((data) => (\r\n                    <li key={data.id} className=\"link\">\r\n                      <Articlelist article={data.text} />\r\n                    </li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n            {/* topauthors */}\r\n            <div className=\"top_authors\">\r\n              <h2>Top Authors</h2>\r\n              <div className=\"authors_contain\">\r\n                {/* `}\r\n                            i will add this later*/}\r\n                {topauthors &&\r\n                  topauthors.map((data) => (\r\n                    <Link key={data.name} to={`/profile/${data.id}`}>\r\n                      <img\r\n                        src={\r\n                          data.profilePic\r\n                            ? `data:image/png;base64,${data.profilePic}`\r\n                            : top_author_default_img\r\n                        }\r\n                        alt=\"top_author_profile\"\r\n                      />\r\n                    </Link>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={sidebar ? \"dashboard_right\" : \"show_right\"}>\r\n            {sortedPosts && sortedPosts.map((data) => (\r\n              <Articlecard key={data.id} articles={data} />\r\n            ))}\r\n            ;\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Dashboard;\r\n","import \"./articlecard.css\";\r\nimport { FaRegSave, FaShareSquare } from \"react-icons/fa\";\r\nimport { BiSolidEditAlt, BiLike } from \"react-icons/bi\";\r\nimport { MdDeleteForever } from \"react-icons/md\";\r\nimport { AiFillLike } from \"react-icons/ai\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { memo, useEffect, useState } from \"react\";\r\nimport profile_img from \"../../images/profilevactor.jpg\";\r\nimport article_img from \"../../images/articlepic.jpg\";\r\nimport {\r\n  deleteArticle,\r\n  getLikes,\r\n  handleLikeClick,\r\n  saveArticle,\r\n} from \"../../api\";\r\nimport { useDispatch } from \"react-redux/\";\r\nimport { update } from \"../../features/article\";\r\nimport moment from \"moment\";\r\n\r\nconst Articlecard = memo(\r\n  (\r\n    { articles } ///memoizing this component, so that it will remember the props that changes to prevent unneccesary rerendering\r\n  ) => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    const userdatastring = localStorage.getItem(\"user\");\r\n    const user = JSON.parse(userdatastring);\r\n    const rightUser = user._id === articles.authorId;\r\n    const [likes, setLikes] = useState(0);\r\n    const [liked, setLiked] = useState(false);\r\n    const [flagged, setFlaged] = useState(\"Not Flagged\");\r\n\r\n    useEffect(() => {\r\n      if (articles.id !== undefined) {\r\n        const fetchData = async () => {\r\n          try {\r\n            // const likesData = await getLikes(articles._id);\r\n\r\n            // setLikes(likesData.likes);\r\n            // setLiked(likesData.liked);\r\n          } catch (error) {\r\n            throw error;\r\n          }\r\n        };\r\n        fetchData();\r\n      }\r\n    }, [articles.id]);\r\n\r\n    async function handleLikes() {\r\n      if (liked) {\r\n        setLikes(likes - 1);\r\n        setLiked(!liked);\r\n      } else {\r\n        setLikes(likes + 1);\r\n        setLiked(!liked);\r\n      }\r\n\r\n      const ans = await handleLikeClick(articles._id);\r\n      setLiked(ans.liked);\r\n      setLikes(ans.likes);\r\n    }\r\n\r\n    function handleDelete() {\r\n      deleteArticle(articles._id);\r\n    }\r\n\r\n    function handleSave() {\r\n      saveArticle(articles._id);\r\n    }\r\n\r\n    function handleUpdate() {\r\n      dispatch(\r\n        update({\r\n          id: articles._id,\r\n          title: articles.title,\r\n          body: articles.body,\r\n          timeTakenToReadPost: articles.timeTakenToReadPost,\r\n          description: articles.description,\r\n          categories: articles.categories[0],\r\n          isUpdate: true,\r\n        })\r\n      );\r\n      navigate(\"/writepage\");\r\n    }\r\n\r\n    function handleFlagg() {\r\n      if (flagged === \"Flagged\") setFlaged(\"Not Flagged\");\r\n      else if (flagged === \"Not Flagged\") setFlaged(\"Flagged\");\r\n    }\r\n    // {moment(articles.created_at).format('MMMM Do, YYYY')}\r\n    console.log(articles.created_at.seconds)\r\n    return (\r\n      <>\r\n        <div className=\"article_post\">\r\n          <div id=\"article_card_wrapper\">\r\n            <div className=\"article_card_about\">\r\n              <ul>\r\n                <Link\r\n                  to={`/profile/${articles.authorId}`}\r\n                  className=\"article_card_linker\"\r\n                >\r\n                  <li>\r\n                    {articles.authorProfile ? (\r\n                      <img\r\n                        src={articles.authorProfile}\r\n                        alt=\"\"\r\n                      />\r\n                    ) : (\r\n                      <img src={profile_img} alt=\"profile\" />\r\n                    )}{\" \"}\r\n                    <span>{articles.author}</span>\r\n                  </li>\r\n                </Link>\r\n                <li>\r\n                  {moment(articles.created_at.toDate()).fromNow()}\r\n                </li>\r\n                <li className=\"show_on\">\r\n                  {articles.timeTakenToReadPost} min read\r\n                </li>\r\n                <li className=\"show_on\">{flagged}</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"article_card_mid\">\r\n              <div className=\"letter_part\">\r\n                <Link\r\n                  className=\"article_card_linker\"\r\n                  to={`/article/${articles.id}`}\r\n                >\r\n                  <h2>{articles.title}</h2>\r\n                </Link>\r\n                <p>{articles.description}</p>\r\n              </div>\r\n              <div className=\"img_part\">\r\n                {articles.descPhoto !== null ? (\r\n                  <img\r\n                    src={articles.descPhoto}\r\n                    alt=\"article_img_blob\"\r\n                  />\r\n                ) : (\r\n                  <img src={article_img} alt=\"default_img\" />\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"article_reactions\">\r\n              <ul>\r\n                <li>\r\n                  <span className=\"card_topic\">{articles.categories}</span>\r\n                </li>\r\n                <li>\r\n                  <span className=\"show_of\">\r\n                    {articles.timeTakenToReadPost} min read\r\n                  </span>\r\n                </li>\r\n                <li>\r\n                  <span className=\"show_of\">{flagged}</span>\r\n                </li>\r\n                <li>{likes} likes</li>\r\n              </ul>\r\n              <ul>\r\n                {/* {<a href=\"/\"><FaShareSquare className=\"article_card_icons hvr-float-shadow\"/></a>  } */}\r\n                {liked ? (\r\n                  <li>\r\n                    <AiFillLike\r\n                      onClick={handleLikes}\r\n                      className=\"article_card_icons hvr-float-shadow\"\r\n                    />\r\n                  </li>\r\n                ) : (\r\n                  <li>\r\n                    <BiLike\r\n                      onClick={handleLikes}\r\n                      className=\"article_card_icons hvr-float-shadow\"\r\n                    />\r\n                  </li>\r\n                )}\r\n                {!rightUser && (\r\n                  <li>\r\n                    <FaRegSave\r\n                      onClick={handleSave}\r\n                      className=\"article_card_icons hvr-float-shadow\"\r\n                    />\r\n                  </li>\r\n                )}\r\n                {rightUser && (\r\n                  <li>\r\n                    <MdDeleteForever\r\n                      onClick={handleDelete}\r\n                      className=\"article_card_icons hvr-float-shadow\"\r\n                    />\r\n                  </li>\r\n                )}\r\n                {rightUser && (\r\n                  <li>\r\n                    <BiSolidEditAlt\r\n                      onClick={handleUpdate}\r\n                      className=\"article_card_icons hvr-float-shadow\"\r\n                    />\r\n                  </li>\r\n                )}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Articlecard;\r\n","import React, { memo, useCallback, useEffect, useState } from \"react\";\r\nimport \"./topbar.css\";\r\nimport image1 from \"../../images/image1.png\";\r\nimport image2 from \"../../images/profilevactor.jpg\";\r\nimport { IoBookOutline } from \"react-icons/io5\";\r\n// import { IoIosNotifications } from \"react-icons/io\";\r\nimport {\r\n  TbLayoutSidebarLeftCollapseFilled,\r\n  TbLayoutSidebarLeftExpandFilled,\r\n} from \"react-icons/tb\";\r\nimport { FaSun } from \"react-icons/fa\";\r\nimport { FaMoon } from \"react-icons/fa\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchUserData } from \"../../api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateTheme } from \"../../features/theme\";\r\n\r\nconst Topbar = memo((props) => {\r\n  const [userinfo, setUserInfo] = useState({});\r\n  const [dark, setdarkMode] = useState(false);\r\n\r\n  const dispach = useDispatch();\r\n  // css classes specification\r\n  const topbarClasses = [\r\n    \"topbar\",\r\n    props.showBottomBoxShadow ? \"bottom-box-shadow\" : \"\",\r\n  ].join(\" \");\r\n\r\n  const userid = localStorage.getItem(\"user\").replace(/\"/g, \"\"); //getting user info from the localstorage\r\n  // const user = JSON.parse(userString);\r\n  useEffect(() => {\r\n    const userDataFromBackend = async () => {\r\n      const ans = await fetchUserData(userid);\r\n      setUserInfo(ans);\r\n    };\r\n\r\n    userDataFromBackend();\r\n  }, []);\r\n\r\n  // taking care of changing themes\r\n\r\n  const handleBgChange = () => {\r\n    if (dark) {\r\n      dispach(updateTheme(dark));\r\n    } else {\r\n      dispach(updateTheme(dark));\r\n    }\r\n  };\r\n\r\n  const handleThemeClick = () => {\r\n    setdarkMode(!dark);\r\n    handleBgChange();\r\n  };\r\n\r\n  return (\r\n    <section className={topbarClasses}>\r\n      <div className=\"container\">\r\n        <div className=\"logo-1\">\r\n          <Link to=\"/dashboard\">\r\n            <img className=\"img1\" src={image1} alt=\"lancaster-logo\" />\r\n          </Link>\r\n          {props.showText ? (\r\n            <span className=\"logo-text\">{props.logoText}</span>\r\n          ) : (\r\n            <Link to=\"/dashboard\" className=\"home_link\">\r\n              <span className=\"logo-text other_small\">\r\n                Scholar<span className=\"colored_part\">Scribe</span>\r\n              </span>\r\n            </Link>\r\n          )}\r\n        </div>\r\n        <ul className=\"navbar\">\r\n          {props.showButton ? (\r\n            <li>\r\n              <button\r\n                className=\"publish-button hvr-wobble-top\"\r\n                onClick={props.publishClick}\r\n              >\r\n                Publish\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/writepage\" className=\"write\">\r\n                <IoBookOutline className=\"write_icon\" />\r\n                <span className=\"write_link hvr-wobble-top\">Write</span>\r\n              </Link>\r\n            </li>\r\n          )}\r\n          <li>\r\n            {/* <div className=\"notification\">\r\n              <IoIosNotifications className=\"notification-icon hvr-pulse-shrink\" />\r\n              <span>5</span>\r\n            </div> */}\r\n            <div className=\"bg__change\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"checkbox\"\r\n                className=\"checkbox\"\r\n                onClick={handleThemeClick}\r\n              />\r\n              <label for=\"checkbox\" className=\"checkbox__label\">\r\n                <FaMoon className=\"fa-moon\" />\r\n                <FaSun className=\"fa-sun\" />\r\n                <span className=\"check__ball\" onClick={handleThemeClick}></span>\r\n              </label>\r\n            </div>\r\n          </li>\r\n          {!props.profile ? (\r\n            <li>\r\n              <Link to={`/profile/${userid}`}>\r\n                {!userinfo.profilePicture ? (\r\n                  <img className=\"img4\" src={image2} alt=\"\" />\r\n                ) : (\r\n                  <img\r\n                    className=\"img4\"\r\n                    src={userinfo.profilePicture}\r\n                    alt=\"\"\r\n                  />\r\n                )}\r\n              </Link>\r\n            </li>\r\n          ) : (\r\n            <li>\r\n              <Link to=\"/\">\r\n                <button\r\n                  className=\"publish-button hvr-wobble-top\"\r\n                  onClick={props.logoutClick}\r\n                >\r\n                  Logout\r\n                </button>\r\n              </Link>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n      {!props.sidebar\r\n        ? props.showBottomBoxShadow && (\r\n            <TbLayoutSidebarLeftExpandFilled\r\n              className=\"topbar_panel\"\r\n              onClick={props.sideBarHandle}\r\n            />\r\n          )\r\n        : props.showBottomBoxShadow && (\r\n            <TbLayoutSidebarLeftCollapseFilled\r\n              className=\"topbar_panel\"\r\n              onClick={props.sideBarHandle}\r\n            />\r\n          )}\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default Topbar;\r\n"],"names":["memo","props","_jsx","_Fragment","children","id","_jsxs","className","Link","to","concat","article","_id","title","categories","Date","createdAt","toLocaleDateString","month","day","topdata","topauthor","searchresult","setSearchResult","useState","searching","setSearching","searchQuery","setSearchQuery","titleQuery","setTitleQuery","articleData","setArticleData","offset","setOffset","sidebar","setShowSidebar","sideBarHandle","useCallback","useEffect","fetchPosts","async","data","fetchPostData","error","console","catsData","topData","topauthors","sortedPosts","Topbar","showBottomBoxShadow","type","name","value","onChange","e","target","placeholder","FaSearch","onClick","preventDefault","map","val","log","Articlelist","text","src","profilePic","top_author_default_img","alt","Articlecard","articles","Loading","_ref","navigate","useNavigate","dispatch","useDispatch","userdatastring","localStorage","getItem","rightUser","JSON","parse","authorId","likes","setLikes","liked","setLiked","flagged","setFlaged","handleLikes","ans","handleLikeClick","undefined","fetchData","created_at","seconds","authorProfile","profile_img","author","moment","toDate","fromNow","timeTakenToReadPost","description","descPhoto","article_img","AiFillLike","BiLike","FaRegSave","saveArticle","MdDeleteForever","deleteArticle","BiSolidEditAlt","update","body","isUpdate","userinfo","setUserInfo","dark","setdarkMode","dispach","topbarClasses","join","userid","replace","fetchUserData","userDataFromBackend","handleThemeClick","updateTheme","image1","showText","logoText","showButton","publishClick","IoBookOutline","for","FaMoon","FaSun","profile","logoutClick","profilePicture","image2","TbLayoutSidebarLeftCollapseFilled","TbLayoutSidebarLeftExpandFilled"],"sourceRoot":""}